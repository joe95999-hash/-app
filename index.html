<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#FFCE00">
    <title>Snoopy å¥èº«æ—¥è¨˜</title>
    
    <link rel="icon" type="image/png" href="icon.png">
    <link rel="apple-touch-icon" href="icon.png">
    
    <link href="https://fonts.googleapis.com/css2?family=Varela+Round&display=swap" rel="stylesheet">

    <style>
        /* --- Snoopy æ¼«ç•«é¢¨æ ¼è¨­å®š --- */
        :root {
            --primary: #FFCE00; /* æŸ¥ç†å¸ƒæœ—é»ƒ */
            --secondary: #000000; /* å²åŠªæ¯”é»‘ç·šæ¢ */
            --bg: #FAFAFA; /* ç´™å¼µç™½ */
            --card-bg: #FFFFFF;
            --accent: #E74C3C; /* ç‹—å±‹ç´… */
            --green: #4CAF50;
            --comic-border: 3px solid var(--secondary);
        }

        body {
            font-family: 'Varela Round', -apple-system, sans-serif;
            background-color: var(--bg);
            color: #333;
            margin: 0;
            padding: 0;
            padding-bottom: 100px;
            /* æ¼«ç•«ç¶²é»èƒŒæ™¯æ•ˆæœ */
            background-image: radial-gradient(#CCC 1.5px, transparent 1.5px);
            background-size: 15px 15px;
            -webkit-tap-highlight-color: transparent;
        }

        /* --- é ‚éƒ¨å›ºå®šå€ (Header + Progress) --- */
        .sticky-top {
            position: sticky;
            top: 0;
            z-index: 1000;
            background-color: #FFF;
            border-bottom: var(--comic-border);
            box-shadow: 0 4px 0 rgba(0,0,0,0.1);
        }

        header {
            background: var(--primary); /* é»ƒè‰²èƒŒæ™¯ */
            padding: 15px 20px;
            padding-top: max(15px, env(safe-area-inset-top));
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: var(--comic-border);
            position: relative;
            overflow: hidden;
        }

        /* è£é£¾ç”¨ Snoopy Pic (èƒŒæ™¯æµ®æ°´å°) */
        .snoopy-bg-decor {
            position: absolute;
            right: -20px;
            bottom: -30px;
            width: 100px;
            opacity: 0.2; /* åŠé€æ˜ */
            transform: rotate(-10deg);
            pointer-events: none;
        }

        h1 { 
            margin: 0; 
            font-size: 1.3rem; 
            letter-spacing: 1px; 
            flex-grow: 1; 
            text-align: center; 
            font-weight: 900;
            color: var(--secondary);
            text-transform: uppercase;
        }

        .header-btn {
            background: #FFF;
            border: 2px solid var(--secondary);
            color: var(--secondary);
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 2px 2px 0 rgba(0,0,0,0.2);
            transition: transform 0.1s;
            z-index: 2;
        }
        .header-btn:active {
            transform: translate(2px, 2px);
            box-shadow: none;
        }

        /* --- Snoopy èµ°è·¯é€²åº¦æ¢ (é‡é»åŠŸèƒ½) --- */
        .progress-area {
            background: #FFF;
            padding: 25px 10px 5px 10px; /* é ç•™ä¸Šæ–¹çµ¦ Snoopy */
            position: relative;
            border-bottom: var(--comic-border);
        }

        .progress-track {
            background: #EEE;
            height: 10px;
            width: 100%;
            border-radius: 10px;
            border: 2px solid var(--secondary);
            position: relative;
        }

        /* ç¶ è‰²é€²åº¦å¡«å…… */
        .progress-fill {
            background: #8BC34A; /* è‰åœ°ç¶  */
            height: 100%;
            width: 0%;
            border-radius: 8px;
            transition: width 0.5s ease;
        }

        /* Snoopy èµ°è·¯ GIF */
        .snoopy-walker {
            position: absolute;
            top: -35px; /* ç«™åœ¨é€²åº¦æ¢ä¸Šé¢ */
            left: 0%; /* è·Ÿéš¨é€²åº¦ç§»å‹• */
            width: 50px;
            height: auto;
            transform: translateX(-25px); /* ä¿®æ­£ä¸­å¿ƒé» */
            transition: left 0.5s ease; /* å¹³æ»‘ç§»å‹• */
            z-index: 5;
        }

        /* çµ‚é»æ——å¹Ÿ */
        .finish-line {
            position: absolute;
            right: 0;
            top: -25px;
            font-size: 20px;
        }

        .progress-text {
            text-align: center;
            font-size: 0.8rem;
            font-weight: bold;
            color: var(--secondary);
            margin-top: 5px;
        }

        /* --- åˆ†é ç±¤ (Tabs) --- */
        .tabs {
            display: flex;
            background: #FFF;
            padding: 10px 10px 0 10px;
            justify-content: space-around;
            gap: 5px;
        }
        .tab-btn {
            flex: 1;
            padding: 10px 0;
            border: 2px solid var(--secondary);
            border-bottom: none;
            background: #F0F0F0;
            font-weight: bold;
            color: #888;
            font-size: 0.9rem;
            position: relative;
            cursor: pointer;
            border-radius: 12px 12px 0 0;
            transition: all 0.2s;
            top: 3px;
        }
        .tab-btn.active {
            background: var(--primary); /* é¸ä¸­è®Šé»ƒè‰² */
            color: var(--secondary);
            top: 0;
            padding-bottom: 13px;
            z-index: 2;
            box-shadow: 0 -2px 0 rgba(0,0,0,0.1);
        }

        /* --- æç¤ºå¡ --- */
        .tips-box {
            background: #FFF;
            border: var(--comic-border);
            padding: 15px;
            margin: 20px 15px;
            border-radius: 15px;
            font-size: 0.9rem;
            color: var(--secondary);
            box-shadow: 5px 5px 0 rgba(0,0,0,0.15);
            position: relative;
            display: flex;
            align-items: flex-start;
            gap: 10px;
        }
        
        /* è£é£¾é ­åƒ */
        .snoopy-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            border: 2px solid var(--secondary);
            object-fit: cover;
            background: #FFF;
            flex-shrink: 0;
        }

        /* --- å¡ç‰‡æ¨£å¼ --- */
        .day-content {
            display: none;
            padding-bottom: 20px;
            animation: fadeIn 0.4s ease;
        }
        .day-content.active { display: block; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .exercise-card {
            background: var(--card-bg);
            margin: 20px 15px;
            padding: 0;
            border-radius: 16px;
            border: var(--comic-border);
            box-shadow: 6px 6px 0 rgba(0,0,0,0.15); /* åšé‡çš„æ¼«ç•«é™°å½± */
            transition: transform 0.1s;
            overflow: hidden;
            position: relative;
        }
        .exercise-card:active {
            transform: translate(2px, 2px);
            box-shadow: 4px 4px 0 rgba(0,0,0,0.15);
        }

        /* å½±ç‰‡å€ */
        .media-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%;
            background: #000;
            cursor: pointer;
            border-bottom: var(--comic-border);
        }
        .media-container img {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            object-fit: cover;
        }
        .play-icon {
            position: absolute;
            top: 50%; left: 50%;
            transform: translate(-50%, -50%);
            width: 50px; height: 50px;
            background: #FFF;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px solid var(--secondary);
            z-index: 2;
            box-shadow: 3px 3px 0 rgba(0,0,0,0.2);
        }
        .play-icon::after {
            content: '';
            display: block;
            border-left: 14px solid var(--secondary);
            border-top: 9px solid transparent;
            border-bottom: 9px solid transparent;
            margin-left: 5px;
        }
        .media-container iframe {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            border: 0;
            z-index: 3;
        }

        /* å¡ç‰‡å…§å®¹ */
        .card-content { padding: 15px 20px; }

        .exercise-title {
            font-size: 1.1rem;
            font-weight: 900;
            margin-bottom: 8px;
            color: var(--secondary);
        }
        
        .meta-row {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }
        .meta-pill {
            background: #FFF;
            color: #000;
            padding: 4px 12px;
            border-radius: 20px;
            border: 2px solid #000;
            font-weight: bold;
            font-size: 0.85rem;
            box-shadow: 2px 2px 0 #DDD;
        }
        
        .tempo-tag {
            display: inline-block;
            background: #FFF8E1;
            color: #F57F17;
            padding: 4px 10px;
            border-radius: 8px;
            font-size: 0.85rem;
            font-weight: bold;
            margin-bottom: 8px;
            border: 2px solid #FFECB3;
        }

        .cue-text {
            font-size: 0.9rem;
            color: #555;
            line-height: 1.5;
            margin-bottom: 12px;
            font-style: italic;
        }

        /* æ‰“å‹¾æŒ‰éˆ•å€ */
        .action-area {
            text-align: right;
            border-top: 2px dashed #CCC;
            padding-top: 12px;
            margin-top: 10px;
        }
        .check-btn {
            background: #FFF;
            border: 2px solid var(--secondary);
            padding: 8px 20px;
            border-radius: 30px;
            color: var(--secondary);
            font-size: 0.95rem;
            cursor: pointer;
            font-weight: 800;
            box-shadow: 4px 4px 0 #DDD;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
        }
        .check-btn:active {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 #DDD;
        }
        
        /* å®Œæˆç‹€æ…‹ */
        .exercise-card.completed {
            background: #F1F8E9; /* æ·¡æ·¡ç¶  */
            border-color: var(--green);
        }
        .exercise-card.completed .exercise-title {
            text-decoration: line-through;
            color: #888;
        }
        .exercise-card.completed .check-btn {
            background: var(--green);
            color: white;
            border-color: var(--green);
            box-shadow: inset 2px 2px 5px rgba(0,0,0,0.2);
        }
        .exercise-card.completed .media-container img {
            filter: grayscale(100%);
            opacity: 0.5;
        }

        .bottom-nav {
            text-align: center;
            padding: 30px;
            color: #AAA;
            font-size: 0.8rem;
            font-weight: bold;
        }

        /* --- æ…¶ç¥å‹•ç•« Overlay --- */
        #celebration-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 255, 255, 0.95);
            z-index: 9999;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            animation: popIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        @keyframes popIn {
            from { opacity: 0; transform: scale(0.8); }
            to { opacity: 1; transform: scale(1); }
        }
        .snoopy-clapping {
            width: 200px;
            margin-bottom: 20px;
            border: 4px solid var(--secondary);
            border-radius: 20px;
            box-shadow: 8px 8px 0 var(--primary);
        }
        .celebrate-title {
            font-size: 1.6rem;
            color: var(--secondary);
            margin: 10px;
            font-weight: 900;
        }
        .celebrate-msg {
            font-size: 1.1rem;
            color: #555;
            margin-bottom: 30px;
        }
        .close-celebrate-btn {
            background: var(--accent);
            color: white;
            border: 3px solid var(--secondary);
            padding: 12px 30px;
            font-size: 1.2rem;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 4px 4px 0 var(--secondary);
        }
        .close-celebrate-btn:active {
            transform: translate(2px, 2px);
            box-shadow: 2px 2px 0 var(--secondary);
        }

    </style>
</head>
<body>

<div id="celebration-overlay">
    <img src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExNmJ5bnZ4bm82b3E3d3Z4eWJ4eHZ4eWJ4eHZ4eWJ4eHZ4eWJ4eSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3o6Zt481isNBF9kUlq/giphy.gif" class="snoopy-clapping" alt="Snoopy Clapping">
    <div class="celebrate-title">å¤ªæ£’äº†åˆå®Œæˆäº†ä¸€å¤©ï¼ï¼</div>
    <div class="celebrate-msg">å¾ªåºæ¼¸é€²ï¼Œé›¢ç›®æ¨™ä¸é å›‰ï½ â¤ï¸</div>
    <button class="close-celebrate-btn" onclick="closeCelebration()">æ”¶ä¸‹é¼“å‹µï¼</button>
</div>

<div class="sticky-top">
    <header>
        <button id="resetBtn" class="header-btn" onclick="window.confirmReset()">â†º é‡ç½®</button>
        <h1>Snoopy å¢è‚Œç‰¹è¨“</h1>
        <img src="snoopypic.jpg" class="snoopy-bg-decor" alt="decor">
        <div style="width: 40px;"></div> </header>

    <div class="progress-area">
        <img src="snoopywalking.gif" id="snoopyWalker" class="snoopy-walker" alt="Walking Snoopy">
        <div class="finish-line">ğŸ</div>
        
        <div class="progress-track">
            <div class="progress-fill" id="progressBar"></div>
        </div>
        <div class="progress-text" id="progressText">ç¸½é€²åº¦ 0%</div>
    </div>

    <div class="tabs">
        <button class="tab-btn active" onclick="switchDay('day1', this)">Day 1<br><span style="font-size:0.7em">è‡€éƒ¨</span></button>
        <button class="tab-btn" onclick="switchDay('day2', this)">Day 2<br><span style="font-size:0.7em">ä¸Šè‚¢</span></button>
        <button class="tab-btn" onclick="switchDay('day3', this)">Day 3<br><span style="font-size:0.7em">å±…å®¶è‡€</span></button>
        <button class="tab-btn" onclick="switchDay('day4', this)">Day 4<br><span style="font-size:0.7em">èƒŒéƒ¨</span></button>
    </div>
</div>

<div class="tips-box">
    <img src="snoopypic.jpg" class="snoopy-avatar" alt="Coach">
    <div>
        <strong>ğŸ¶ Snoopy æ•™ç·´èªªï¼š</strong><br>
        çœ‹è‘—ä¸Šé¢çš„æˆ‘æ…¢æ…¢èµ°åˆ°çµ‚é»å§ï¼<br>
        <span style="font-size:0.8rem; color:#666;">UFC ç¯€å¥ï¼š3ç§’ä¸‹æ”¾ â 1ç§’åº•åœ â 2ç§’ç™¼åŠ› â 1ç§’é ‚åœ</span>
    </div>
</div>

<div id="day1" class="day-content active">
    
    <div class="exercise-card" id="d1-warmup">
        <div class="media-container" onclick="loadVideo(this, '-r0TYqz7INw')">
            <img src="https://img.youtube.com/vi/-r0TYqz7INw/hqdefault.jpg" alt="å‹•æ…‹ä¼¸å±•">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">0. å‹•æ…‹ä¼¸å±• (Dynamic Warmup)</div>
            <div class="meta-row"><span class="meta-pill">æš–èº«æº–å‚™</span> <span class="meta-pill">5-10 åˆ†é˜</span></div>
            <div class="cue-text">è¨“ç·´å‰å¿…åšï¼Œå•Ÿå‹•é—œç¯€èˆ‡è‚Œè‚‰ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d1-warmup')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d1-a1">
        <div class="media-container" onclick="loadVideo(this, '-nm7SrizuN8')">
            <img src="https://img.youtube.com/vi/-nm7SrizuN8/hqdefault.jpg" alt="è‡€æ¨">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">A1. æ§“éˆ´è‡€æ¨ (Hip Thrust)</div>
            <div class="meta-row"><span class="meta-pill">4 çµ„</span> <span class="meta-pill">8-12 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-1-2-1</div>
            <div class="cue-text">ç¿¹è‡€ä¸»è¨“ç·´ã€‚é ‚å³°ç”¨åŠ›å¤¾è‡€åœç•™ 1 ç§’ï¼Œæ…¢ 3 ç§’ä¸‹æ”¾ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d1-a1')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d1-a2">
        <div class="media-container" onclick="loadVideo(this, 'Z1cQfWDlacw')">
            <img src="https://img.youtube.com/vi/Z1cQfWDlacw/hqdefault.jpg" alt="ä¸‹æ‹‰">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">A2. æ»‘è¼ªä¸‹æ‹‰ (Lat Pulldown)</div>
            <div class="meta-row"><span class="meta-pill">4 çµ„</span> <span class="meta-pill">8-12 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-0-1-0</div>
            <div class="cue-text">æ…¢ 3 ç§’å›æ”¾ï¼Œæ„Ÿå—èƒŒè‚Œæ‹‰ä¼¸ï¼Œæ‰‹è‚˜å‘ä¸‹å¸¶ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d1-a2')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d1-b1">
        <div class="media-container" onclick="loadVideo(this, 'ULAiQO2KC38')">
            <img src="https://img.youtube.com/vi/ULAiQO2KC38/hqdefault.jpg" alt="RDL">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">B1. ç¾…é¦¬å°¼äºç¡¬èˆ‰ (RDL)</div>
            <div class="meta-row"><span class="meta-pill">3 çµ„</span> <span class="meta-pill">10-15 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-1-2-1</div>
            <div class="cue-text">å±è‚¡å‘å¾Œæ¨ï¼Œè†è“‹å¾®å½ï¼Œé‡å°è‡€éƒ¨ä¸Šæã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d1-b1')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d1-b2">
        <div class="media-container" onclick="loadVideo(this, 'BrcRd1_RGV8')">
            <img src="https://img.youtube.com/vi/BrcRd1_RGV8/hqdefault.jpg" alt="åˆ’èˆ¹">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">B2. åå§¿åˆ’èˆ¹ (Seated Row)</div>
            <div class="meta-row"><span class="meta-pill">3 çµ„</span> <span class="meta-pill">10-15 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-0-1-0</div>
            <div class="cue-text">å¼·åŒ–ä¸ŠèƒŒæŒºæ‹”ï¼Œæ”¹å–„åœ“è‚©ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d1-b2')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d1-c1">
        <div class="media-container" onclick="loadVideo(this, 'ZKouK_LCpeg')">
            <img src="https://img.youtube.com/vi/ZKouK_LCpeg/hqdefault.jpg" alt="æ·±è¹²">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">C1. å²å¯†æ–¯ç¢°æ¤…å­æ·±è¹²</div>
            <div class="meta-row"><span class="meta-pill">3 çµ„</span> <span class="meta-pill">10-12 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-0-1-0</div>
            <div class="cue-text">ç”¨æ¤…å­é™åˆ¶æ·±åº¦ï¼Œæ…¢ 3 ç§’åå‘æ¤…å­ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d1-c1')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d1-c2">
        <div class="media-container" onclick="loadVideo(this, 'v0Y8_j6jpac')">
            <img src="https://img.youtube.com/vi/v0Y8_j6jpac/hqdefault.jpg" alt="å´å¹³èˆ‰">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">C2. å´å¹³èˆ‰ (Lateral Raise)</div>
            <div class="meta-row"><span class="meta-pill">3 çµ„</span> <span class="meta-pill">12-15 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-0-1-0</div>
            <div class="cue-text">é›•å¡‘è‚©è†€ç·šæ¢ï¼Œæ…¢ 3 ç§’æ”¾ä¸‹ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d1-c2')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d1-cardio" style="border-left: 5px solid #FFCE00;">
        <div class="media-container" onclick="loadVideo(this, 'dRQOkyECJKs')">
            <img src="https://img.youtube.com/vi/dRQOkyECJKs/hqdefault.jpg" alt="æœ‰æ°§">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">ğŸƒâ€â™€ï¸ è·‘æ­¥æ©Ÿæœ‰æ°§ (é‡è¨“å¾Œ)</div>
            <div class="cue-text">å»ºè­°æ™‚é–“ï¼š20-30 åˆ†é˜ (çˆ¬å¡å¿«èµ°æˆ–æ…¢è·‘)</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d1-cardio')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>
</div>

<div id="day2" class="day-content">
    
    <div class="exercise-card" id="d2-warmup">
        <div class="media-container" onclick="loadVideo(this, '-r0TYqz7INw')">
            <img src="https://img.youtube.com/vi/-r0TYqz7INw/hqdefault.jpg" alt="å‹•æ…‹ä¼¸å±•">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">0. å‹•æ…‹ä¼¸å±• (Dynamic Warmup)</div>
            <div class="meta-row"><span class="meta-pill">æš–èº«æº–å‚™</span> <span class="meta-pill">5-10 åˆ†é˜</span></div>
            <div class="cue-text">è¨“ç·´å‰å¿…åšï¼Œå•Ÿå‹•é—œç¯€èˆ‡è‚Œè‚‰ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d2-warmup')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d2-a1">
        <div class="media-container" onclick="loadVideo(this, 'DN5GbsWIiJA')">
            <img src="https://img.youtube.com/vi/DN5GbsWIiJA/hqdefault.jpg" alt="è‚©æ¨">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">A1. åå§¿è‚©æ¨ (Seated OHP)</div>
            <div class="meta-row"><span class="meta-pill">4 çµ„</span> <span class="meta-pill">8-12 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-0-1-0</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d2-a1')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d2-a2">
        <div class="media-container" onclick="loadVideo(this, 'NAuRVixzxjE')">
            <img src="https://img.youtube.com/vi/NAuRVixzxjE/hqdefault.jpg" alt="åæ‰‹ä¸‹æ‹‰">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">A2. åæ‰‹æ¡æ»‘è¼ªä¸‹æ‹‰</div>
            <div class="meta-row"><span class="meta-pill">4 çµ„</span> <span class="meta-pill">8-12 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-0-1-0</div>
            <div class="cue-text">å¼·åŒ–èƒŒéƒ¨ç·šæ¢ï¼Œåæ‰‹æ¡æ³•ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d2-a2')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d2-b1">
        <div class="media-container" onclick="loadVideo(this, '3WHl2u2Hdeg')">
            <img src="https://img.youtube.com/vi/3WHl2u2Hdeg/hqdefault.jpg" alt="ä¸Šæ–œè‡¥æ¨">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">B1. ä¸Šæ–œå•éˆ´è‡¥æ¨</div>
            <div class="meta-row"><span class="meta-pill">3 çµ„</span> <span class="meta-pill">10-15 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-0-1-0</div>
            <div class="cue-text">é‡å°ä¸Šèƒ¸å¡‘å½¢ï¼Œæ…¢ 3 ç§’ä¸‹æ”¾ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d2-b1')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d2-b2">
        <div class="media-container" onclick="loadVideo(this, 'cn-kmZrMRec')">
            <img src="https://img.youtube.com/vi/cn-kmZrMRec/hqdefault.jpg" alt="åå‘é£›é³¥">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">B2. æ©Ÿæ¢°å¼åå‘é£›é³¥</div>
            <div class="meta-row"><span class="meta-pill">3 çµ„</span> <span class="meta-pill">12-15 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-0-1-0</div>
            <div class="cue-text">èƒŒæŒºé—œéµå‹•ä½œï¼Œè¨“ç·´è‚©è†€å¾ŒæŸã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d2-b2')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d2-c1">
        <div class="media-container" onclick="loadVideo(this, 'RGQAX032NWg')">
            <img src="https://img.youtube.com/vi/RGQAX032NWg/hqdefault.jpg" alt="ä¸‰é ­ä¸‹å£“">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">C1. ä¸‰é ­è‚Œä¸‹å£“</div>
            <div class="meta-row"><span class="meta-pill">3 çµ„</span> <span class="meta-pill">12-15 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-0-1-0</div>
            <div class="cue-text">æ¶ˆé™¤æ°æ°è¢–ï¼Œä¸Šè‡‚ä¸å‹•ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d2-c1')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d2-c2">
        <div class="media-container" onclick="loadVideo(this, '1GfYuHvGBmc')">
            <img src="https://img.youtube.com/vi/1GfYuHvGBmc/hqdefault.jpg" alt="å½èˆ‰">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">C2. å•éˆ´å½èˆ‰</div>
            <div class="meta-row"><span class="meta-pill">3 çµ„</span> <span class="meta-pill">12-15 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-0-1-0</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d2-c2')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d2-cardio" style="border-left: 5px solid #FFCE00;">
        <div class="media-container" onclick="loadVideo(this, 'MjnTPu2peh0')">
            <img src="https://img.youtube.com/vi/MjnTPu2peh0/hqdefault.jpg" alt="æ¨“æ¢¯æ©Ÿ">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">ğŸƒâ€â™€ï¸ æ¨“æ¢¯æ©Ÿæœ‰æ°§ (é‡è¨“å¾Œ)</div>
            <div class="cue-text">å»ºè­°æ™‚é–“ï¼š20-30 åˆ†é˜</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d2-cardio')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>
</div>

<div id="day3" class="day-content">
    
    <div class="exercise-card" id="d3-warmup">
        <div class="media-container" onclick="loadVideo(this, '-r0TYqz7INw')">
            <img src="https://img.youtube.com/vi/-r0TYqz7INw/hqdefault.jpg" alt="å‹•æ…‹ä¼¸å±•">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">0. å‹•æ…‹ä¼¸å±• (Dynamic Warmup)</div>
            <div class="meta-row"><span class="meta-pill">æš–èº«æº–å‚™</span> <span class="meta-pill">5-10 åˆ†é˜</span></div>
            <div class="cue-text">è¨“ç·´å‰å¿…åšï¼Œå•Ÿå‹•é—œç¯€èˆ‡è‚Œè‚‰ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d3-warmup')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d3-a1">
        <div class="media-container" onclick="loadVideo(this, 'l-ZcZzCLX5M')">
            <img src="https://img.youtube.com/vi/l-ZcZzCLX5M/hqdefault.jpg" alt="å½ˆåŠ›å¸¶è‡€æ¨">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">A1. å½ˆåŠ›å¸¶è‡€æ¨</div>
            <div class="meta-row"><span class="meta-pill">4 çµ„</span> <span class="meta-pill">15-20 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-1-2-1</div>
            <div class="cue-text">é ‚å³°å¤¾è‡€ 1 ç§’ï¼Œæ…¢ 3 ç§’ä¸‹æ”¾ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d3-a1')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d3-a2">
        <div class="media-container" onclick="loadVideo(this, 'fdM5tfFtndM')">
            <img src="https://img.youtube.com/vi/fdM5tfFtndM/hqdefault.jpg" alt="å–®è…¿RDL">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">A2. å¾’æ‰‹å–®è…¿ RDL</div>
            <div class="meta-row"><span class="meta-pill">4 çµ„</span> <span class="meta-pill">æ¯è…³ 12-15 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-1-2-1</div>
            <div class="cue-text">æ…¢ 3 ç§’ä¸‹æ”¾ï¼Œä¿æŒéª¨ç›†æ°´å¹³ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d3-a2')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d3-b1">
        <div class="media-container" onclick="loadVideo(this, 'TdfRsUbODlM')">
            <img src="https://img.youtube.com/vi/TdfRsUbODlM/hqdefault.jpg" alt="å´è‡¥æŠ¬è…¿">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">B1. å´è‡¥æŠ¬è…¿</div>
            <div class="meta-row"><span class="meta-pill">3 çµ„</span> <span class="meta-pill">æ¯é‚Š 15-20 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-1-2-1</div>
            <div class="cue-text">å¼·åŒ–è‡€ä¸­è‚Œï¼Œä¿®é£¾è‡€å‹å¤–å´ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d3-b1')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d3-b2">
        <div class="media-container" onclick="loadVideo(this, 'MEXQO6R520k')">
            <img src="https://img.youtube.com/vi/MEXQO6R520k/hqdefault.jpg" alt="æ£’å¼">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">B2. æ£’å¼ (Plank)</div>
            <div class="meta-row"><span class="meta-pill">3 çµ„</span> <span class="meta-pill">45-60 ç§’</span></div>
            <div class="tempo-tag">ç­‰é•·æ”¶ç¸®</div>
            <div class="cue-text">ä¿æŒæ ¸å¿ƒæ”¶ç·Šã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d3-b2')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d3-c1">
        <div class="media-container" onclick="loadVideo(this, 'YU9QNkRvWJY')">
            <img src="https://img.youtube.com/vi/YU9QNkRvWJY/hqdefault.jpg" alt="æ©‹å¼">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">C1. æ©‹å¼å¤¾çƒ/æ•é ­</div>
            <div class="meta-row"><span class="meta-pill">3 çµ„</span> <span class="meta-pill">20-25 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-1-2-1</div>
            <div class="cue-text">é ‚å³°ç”¨åŠ›å¤¾çƒ 1 ç§’ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d3-c1')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d3-c2">
        <div class="media-container" onclick="loadVideo(this, 'FH81s7V0sYc')">
            <img src="https://img.youtube.com/vi/FH81s7V0sYc/hqdefault.jpg" alt="é³¥ç‹—å¼">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">C2. é³¥ç‹—å¼ (Bird Dog)</div>
            <div class="meta-row"><span class="meta-pill">3 çµ„</span> <span class="meta-pill">æ¯é‚Š 10-12 æ¬¡</span></div>
            <div class="tempo-tag">ç­‰é•·æ§åˆ¶</div>
            <div class="cue-text">æ‰‹è…³ä¼¸ç›´æ™‚åœç•™ 1-2 ç§’ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d3-c2')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d3-cardio" style="border-left: 5px solid #FFCE00;">
        <div class="media-container" onclick="loadVideo(this, 'w8qUYJ2UJtE')">
            <img src="https://img.youtube.com/vi/w8qUYJ2UJtE/hqdefault.jpg" alt="è¶…æ…¢è·‘">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">ğŸƒâ€â™€ï¸ è¶…æ…¢è·‘æœ‰æ°§ (é‡è¨“å¾Œ)</div>
            <div class="cue-text">å»ºè­°æ™‚é–“ï¼š20-30 åˆ†é˜</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d3-cardio')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>
</div>

<div id="day4" class="day-content">
    
    <div class="exercise-card" id="d4-warmup">
        <div class="media-container" onclick="loadVideo(this, '-r0TYqz7INw')">
            <img src="https://img.youtube.com/vi/-r0TYqz7INw/hqdefault.jpg" alt="å‹•æ…‹ä¼¸å±•">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">0. å‹•æ…‹ä¼¸å±• (Dynamic Warmup)</div>
            <div class="meta-row"><span class="meta-pill">æš–èº«æº–å‚™</span> <span class="meta-pill">5-10 åˆ†é˜</span></div>
            <div class="cue-text">è¨“ç·´å‰å¿…åšï¼Œå•Ÿå‹•é—œç¯€èˆ‡è‚Œè‚‰ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d4-warmup')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d4-a1">
        <div class="media-container" onclick="loadVideo(this, '55WRbA8hhvE')">
            <img src="https://img.youtube.com/vi/55WRbA8hhvE/hqdefault.jpg" alt="ä¼åœ°æŒºèº«">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">A1. è·ªå§¿ä¼åœ°æŒºèº«</div>
            <div class="meta-row"><span class="meta-pill">4 çµ„</span> <span class="meta-pill">æ¥è¿‘åŠ›ç«­</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-0-1-0</div>
            <div class="cue-text">æ…¢ 3 ç§’ä¸‹æ”¾ï¼Œèƒ¸å£é è¿‘åœ°é¢ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d4-a1')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d4-a2">
        <div class="media-container" onclick="loadVideo(this, 'ebMzPgeZNeg')">
            <img src="https://img.youtube.com/vi/ebMzPgeZNeg/hqdefault.jpg" alt="å½ˆåŠ›å¸¶åˆ’èˆ¹">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">A2. å½ˆåŠ›å¸¶åˆ’èˆ¹</div>
            <div class="meta-row"><span class="meta-pill">4 çµ„</span> <span class="meta-pill">15-20 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-0-1-0</div>
            <div class="cue-text">æ…¢ 3 ç§’å›æ”¾ï¼Œ1 ç§’å¤¾èƒŒã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d4-a2')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d4-b2">
        <div class="media-container" onclick="loadVideo(this, 'ekmctIBUbEE')">
            <img src="https://img.youtube.com/vi/ekmctIBUbEE/hqdefault.jpg" alt="è¶…äººå¼">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">B2. è¶…äººå¼ (Superman)</div>
            <div class="meta-row"><span class="meta-pill">3 çµ„</span> <span class="meta-pill">12-15 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 2-1-2-1</div>
            <div class="cue-text">æŠ¬èµ·åœç•™ 1 ç§’ï¼Œæ…¢ 2 ç§’æ”¾ä¸‹ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d4-b2')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d4-c1">
        <div class="media-container" onclick="loadVideo(this, 'Ahusq-Ry-Ss')">
            <img src="https://img.youtube.com/vi/Ahusq-Ry-Ss/hqdefault.jpg" alt="ç‰†å£ä¼åœ°">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">C1. ç‰†å£ä¼åœ°æŒºèº«</div>
            <div class="meta-row"><span class="meta-pill">3 çµ„</span> <span class="meta-pill">12-15 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-0-1-0</div>
            <div class="cue-text">æ‰‹è‚˜é è¿‘èº«é«”ï¼Œé›†ä¸­è¨“ç·´ä¸‰é ­è‚Œï¼Œæ…¢ 3 ç§’è²¼è¿‘ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d4-c1')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d4-c2">
        <div class="media-container" onclick="loadVideo(this, 'ynEE32gDFpQ')">
            <img src="https://img.youtube.com/vi/ynEE32gDFpQ/hqdefault.jpg" alt="å½èˆ‰">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">C2. é›†ä¸­å½èˆ‰</div>
            <div class="meta-row"><span class="meta-pill">3 çµ„</span> <span class="meta-pill">15-20 æ¬¡</span></div>
            <div class="tempo-tag">ç¯€å¥ 3-0-1-0</div>
            <div class="cue-text">æ…¢ 3 ç§’æ”¾ä¸‹é‡ç‰©ã€‚</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d4-c2')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>

    <div class="exercise-card" id="d4-cardio" style="border-left: 5px solid #FFCE00;">
        <div class="media-container" onclick="loadVideo(this, 'w8qUYJ2UJtE')">
            <img src="https://img.youtube.com/vi/w8qUYJ2UJtE/hqdefault.jpg" alt="è¶…æ…¢è·‘">
            <div class="play-icon"></div>
        </div>
        <div class="card-content">
            <div class="exercise-title">ğŸƒâ€â™€ï¸ è¶…æ…¢è·‘æœ‰æ°§ (é‡è¨“å¾Œ)</div>
            <div class="cue-text">å»ºè­°æ™‚é–“ï¼š20-30 åˆ†é˜</div>
            <div class="action-area"><button class="check-btn" onclick="toggleComplete('d4-cardio')">ğŸ¾ å®Œæˆå‹•ä½œ</button></div>
        </div>
    </div>
</div>

<div class="bottom-nav">
    Happiness is a warm puppy. <br> åŠ æ²¹ï¼ğŸ’ª
</div>

<script>
    // --- æ ¸å¿ƒé‚è¼¯å€ ---

    // 1. åˆå§‹åŒ–ï¼šç¶²é è¼‰å…¥æ™‚åŸ·è¡Œ
    window.onload = function() {
        try {
            // è®€å– LocalStorage é€²åº¦
            const savedData = localStorage.getItem('fitnessProgress');
            if (savedData) {
                const completedTasks = JSON.parse(savedData);
                completedTasks.forEach(id => {
                    const card = document.getElementById(id);
                    if(card) {
                        card.classList.add('completed');
                        const btn = card.querySelector('.check-btn');
                        if(btn) btn.innerText = "â˜… å·²å®Œæˆ";
                    }
                });
            }
        } catch (e) {
            console.warn("ç„¡æ³•è®€å– LocalStorage (å¯èƒ½ç‚ºç„¡ç—•æ¨¡å¼)", e);
        }
        updateProgressBar(); // åˆå§‹æ›´æ–°é€²åº¦æ¢
    };

    // 2. åˆ‡æ›åˆ†é  (Tabs)
    window.switchDay = function(dayId, btn) {
        document.querySelectorAll('.day-content').forEach(el => el.classList.remove('active'));
        document.getElementById(dayId).classList.add('active');
        document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
        btn.classList.add('active');
        window.scrollTo(0, 0);
        
        // åˆ‡æ›é é¢æ™‚ï¼Œé †ä¾¿æª¢æŸ¥æ˜¯å¦è©²é¡¯ç¤ºæ…¶ç¥ï¼ˆä»¥é˜²è¬ä¸€ï¼‰
        checkCelebration(dayId);
    }

    // 3. æ›´æ–°é€²åº¦æ¢ UI (åŠ å…¥ Snoopy èµ°è·¯é‚è¼¯)
    function updateProgressBar() {
        const totalTasks = document.querySelectorAll('.exercise-card').length;
        const completedTasks = document.querySelectorAll('.exercise-card.completed').length;
        
        let percent = 0;
        if(totalTasks > 0) {
            percent = Math.round((completedTasks / totalTasks) * 100);
        }
        
        // æ›´æ–°ç¶ è‰²æ¢
        document.getElementById('progressBar').style.width = percent + "%";
        
        // æ›´æ–°æ–‡å­—
        document.getElementById('progressText').innerText = `ç¸½é€²åº¦ ${percent}% (${completedTasks}/${totalTasks})`;

        // â˜… æ›´æ–° Snoopy ä½ç½® â˜…
        // è®“ Snoopy èµ°åœ¨é€²åº¦æ¢å‰ç«¯ï¼Œæ¸›å»ä¸€äº›å¯¬åº¦ä»¥å…è¡å‡ºé‚Šç•Œ
        const walker = document.getElementById('snoopyWalker');
        if(walker) {
            // é™åˆ¶æœ€å¤§ 90% ä»¥å…æ“‹ä½æ——å­
            const walkPos = Math.min(percent, 92); 
            walker.style.left = walkPos + "%";
        }
    }

    // 4. æ‰“å‹¾/å–æ¶ˆæ‰“å‹¾åŠŸèƒ½
    window.toggleComplete = function(id) {
        event.stopPropagation(); // é˜²æ­¢è§¸ç™¼å½±ç‰‡é»æ“Š
        const card = document.getElementById(id);
        if(!card) return; 
        
        const btn = card.querySelector('.check-btn');
        card.classList.toggle('completed');
        
        // æ›´æ–°æŒ‰éˆ•æ–‡å­—
        if (card.classList.contains('completed')) {
            btn.innerText = "â˜… å·²å®Œæˆ";
        } else {
            btn.innerText = "ğŸ¾ å®Œæˆå‹•ä½œ";
        }

        // å„²å­˜é€²åº¦
        saveProgress();
        updateProgressBar();

        // â˜…â˜…â˜… æª¢æŸ¥æ…¶ç¥æ¢ä»¶ â˜…â˜…â˜…
        const activeDay = document.querySelector('.day-content.active').id;
        // åªæœ‰åœ¨å‹•ä½œè®Šæˆã€Œå®Œæˆã€ç‹€æ…‹æ™‚æ‰æª¢æŸ¥
        if (card.classList.contains('completed')) {
            checkCelebration(activeDay);
        }
    }

    // æª¢æŸ¥æ˜¯å¦è©²é¡¯ç¤ºæ…¶ç¥å‹•ç•«
    function checkCelebration(dayId) {
        const container = document.getElementById(dayId);
        if (!container) return;

        const totalInDay = container.querySelectorAll('.exercise-card').length;
        const completedInDay = container.querySelectorAll('.exercise-card.completed').length;

        // å¦‚æœè©²æ—¥æ‰€æœ‰ä»»å‹™éƒ½å®Œæˆï¼Œä¸”æ•¸é‡å¤§æ–¼0
        if (totalInDay > 0 && totalInDay === completedInDay) {
            showCelebration();
        }
    }

    function showCelebration() {
        document.getElementById('celebration-overlay').style.display = 'flex';
    }

    window.closeCelebration = function() {
        document.getElementById('celebration-overlay').style.display = 'none';
    }

    // 5. å„²å­˜åˆ° LocalStorage
    function saveProgress() {
        try {
            const completedCards = document.querySelectorAll('.exercise-card.completed');
            const ids = Array.from(completedCards).map(card => card.id);
            localStorage.setItem('fitnessProgress', JSON.stringify(ids));
        } catch (e) {
            console.warn("ç„¡æ³•å„²å­˜ (å¯èƒ½ç‚ºç„¡ç—•æ¨¡å¼)");
        }
    }

    // 6. é‡ç½®é€²åº¦åŠŸèƒ½
    window.confirmReset = function() {
        if(confirm("ç¢ºå®šè¦é‡ç½®æ‰€æœ‰é€²åº¦å—ï¼Ÿ\né€™å°‡æœƒæ¸…é™¤æ‰€æœ‰å·²å®Œæˆçš„å‹•ä½œç´€éŒ„ã€‚")) {
            try {
                localStorage.removeItem('fitnessProgress');
            } catch(e) {}

            // UI é‡ç½®
            const cards = document.querySelectorAll('.exercise-card');
            cards.forEach(card => {
                card.classList.remove('completed');
                const btn = card.querySelector('.check-btn');
                if(btn) btn.innerText = "ğŸ¾ å®Œæˆå‹•ä½œ";
            });
            
            updateProgressBar();
            alert("é€²åº¦å·²é‡ç½®ï¼åŠ æ²¹ï¼");
        }
    }

    // 7. è¼‰å…¥å½±ç‰‡
    window.loadVideo = function(container, videoId) {
        container.innerHTML = `<iframe src="https://www.youtube.com/embed/${videoId}?autoplay=1" allowfullscreen allow="autoplay"></iframe>`;
    }
</script>

</body>
</html>
